name: Chinook Example
description: |
  An example project based on Chinook sqlite database, use for testing, introductory
  tutorial and as a basic example of what can be done here.

.usd: &USD
  spec: $.2f
  currency_prefix: $

metrics:
  revenue_per_track:
    name: Revenue per Track in the Library
    expr: $revenue / $track_count
    format:
      <<: *USD

unions:
  country:
    name: Country
    type: nominal

tables:
  genres:
    source: genres
    primary_key: GenreId
    dimensions:
      genre:
        name: Genre
        expr: Name
        type: nominal

  artists:
    source: artists
    primary_key: ArtistId
    dimensions:
      artist:
        name: Artist
        expr: Name
        type: nominal

  albums:
    source: albums
    primary_key: AlbumId
    related:
      artist:
        table: artists
        foreign_key: ArtistId
    dimensions:
      album:
        name: Album Title
        expr: Title
        type: nominal

  media_types:
    source: media_types
    primary_key: MediaTypeId
    dimensions:
      media_type:
        name: Type of Media
        expr: Name
        type: nominal
