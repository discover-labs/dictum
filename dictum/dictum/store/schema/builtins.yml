filters:
  atleast:
    name: at least
    args: [value]
    expr: "@ >= value"
  atmost:
    name: at most
    args: [value]
    expr: "@ <= value"
  inrange:
    name: in range
    args: [min, max]
    expr: "@ >= min and @ <= max"
  last:
    name: last
    args: [n, part]
    expr: datediff(part, @, now()) < n and datediff(part, @, now()) >= 0
transforms:
  step:
    name: step
    args: [size]
    expr: "@ // size * size"
  datepart:
    name: date part
    args: [part]
    expr: datepart(part, @)
    return_type: number
    format: "0000"
  datetrunc:
    name: date trunc
    args: [part]
    expr: datetrunc(part, @)
  year:
    name: date year
    expr: datetrunc('year', @)
    format: yyyy
  quarter:
    name: date quarter
    expr: datetrunc('quarter', @)
    format: qqq yyyy
  month:
    name: date month
    expr: datetrunc('month', @)
    format: MMM yyyy
  week:
    name: date week
    expr: datetrunc('week', @)
    format: ww YYYY
  day:
    name: date day
    expr: datetrunc('day', @)
  hour:
    name: date hour
    expr: datetrunc('hour', @)
  minute:
    name: date minute
    expr: datetrunc('minute', @)
